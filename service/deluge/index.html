<html>
<head>
<title>Zoho Deluge Code</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="distribution" content="global" />
	<meta name="robots" content="follow, all" />
	<meta name="author" content="Tawhidul Islam" />
	<meta name="Description" content="Zoho Deluge Code Sheet" />
	<meta name="Keywords" content="Zoho Deluge Code, Zoho Custom Function" />
	<meta name="Language" content="en_US" />
	<meta http-equiv="cache-control" content="public" />
	<meta name="Copyright" content="Tawhidul Islam" />
	<meta name="Designer" content="Tawhidul Islam" />
	<meta name="city" content="Dhaka" />
	<meta name="country" content="Bangladesh" />
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/default.min.css">
<link rel="stylesheet" href="css/nav.css">
</head>
<body>
	<div class="wrap">
		<div class="head">
			<h2>Zoho Deluge Code</h2>
			<p>Custom Function Code</p>
		</div> <!-- End: Head -->

		<div class="nav">
			<ul id="navs">
				<li><a href="#">Custom Function</a>
					<ul>
						<li><a href="#mass">Mass Update Affiliates</a></li>
						<li><a href="#email">Send Email To Affiliate</a></li>
						<li><a href="#email2">Send Email to Assigned Team Member</a></li>
						<li><a href="#sum">Sum Up Potential Amount</a></li>
						<li><a href="#notes">Add Notes on Modules</a></li>
						<li><a href="#reffer">Update Referring party</a></li>
						<li><a href="#state">Update State Based on Phone</a></li>
						<li><a href="#affiliate">Update Leads Affiliates Person</a></li>
						<li><a href="#assign">Assigned Team Member to Original Member</a></li>
					</ul>
				</li>
				<li><a href="#useful">Usefull</a></li>
			</ul>
		</div>

		<div class="content">

			<div class="post">
				<h2><a name="mass">Mass Update Affiliates</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>recordsToUpdate <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">searchRecords</span><span class="sh_symbol">(</span>modules_name<span class="sh_symbol">,</span><span class="sh_string">"(Referring_Party:equals:"</span> <span class="sh_symbol">+</span> reffering_party <span class="sh_symbol">+</span> <span class="sh_string">")"</span><span class="sh_symbol">);</span></li><li><span class="sh_keyword">for</span> each  record <span class="sh_keyword">in</span> recordsToUpdate</li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Collect the record ID</li><li>&nbsp;&nbsp;&nbsp;&nbsp;recordId <span class="sh_symbol">=</span> record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Check <span class="sh_keyword">for</span> the module type <span class="sh_keyword">and</span> set the URL accordingly</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(</span>modules_name <span class="sh_symbol">==</span> <span class="sh_string">"Leads"</span><span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Retrieve the lead<span class="sh_string">'s name</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leadName <span class="sh_symbol">=</span> record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"First_Name"</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">" "</span> <span class="sh_symbol">+</span> record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Last_Name"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leadURL <span class="sh_symbol">=</span> <span class="sh_string">"https://crm.zoho.com/crm/org781691523/tab/Leads/"</span> <span class="sh_symbol">+</span> recordId<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(</span>modules_name <span class="sh_symbol">==</span> <span class="sh_string">"Deals"</span><span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leadURL <span class="sh_symbol">=</span> <span class="sh_string">"https://crm.zoho.com/crm/org781691523/tab/Deals/"</span> <span class="sh_symbol">+</span> recordId<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Retrieve the Deals<span class="sh_string">'s name</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leadName <span class="sh_symbol">=</span> record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Deal_Name"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">else</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Handle other modules <span class="sh_keyword">or</span> log an error<span class="sh_symbol">.</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leadURL <span class="sh_symbol">=</span> <span class="sh_string">"Invalid module name provided"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;affiliate_person <span class="sh_symbol">=</span> record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Affiliate_Person'</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Prepare the data to update</li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataToUpdate <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataToUpdate<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Affiliate_Person"</span><span class="sh_symbol">,</span>affiliate_person_id<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(</span>affiliate_person <span class="sh_symbol">==</span> null<span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Update the record <span class="sh_keyword">in</span> Zoho CRM</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateResponse <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">updateRecord</span><span class="sh_symbol">(</span>modules_name<span class="sh_symbol">,</span>recordId<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">(),</span>dataToUpdate<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Check <span class="sh_keyword">if</span> the update was successful</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(</span>updateResponse<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Modified_Time"</span><span class="sh_symbol">)</span> <span class="sh_symbol">!=</span> null<span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info modules_name <span class="sh_symbol">+</span> <span class="sh_string">" name: "</span> <span class="sh_symbol">+</span> leadName <span class="sh_symbol">+</span> <span class="sh_string">" and direct link "</span> <span class="sh_symbol">+</span> leadURL<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">recordsToUpdate = zoho.crm.searchRecords(modules_name,"(Referring_Party:equals:" + reffering_party + ")");
for each  record in recordsToUpdate
{
	// Collect the record ID
	recordId = record.get("id");
	// Check for the module type and set the URL accordingly
	if(modules_name == "Leads")
	{
		// Retrieve the lead's name
		leadName = record.get("First_Name") + " " + record.get("Last_Name");
		leadURL = "https://crm.zoho.com/crm/org781691523/tab/Leads/" + recordId.toString();
	}
	else if(modules_name == "Deals")
	{
		leadURL = "https://crm.zoho.com/crm/org781691523/tab/Deals/" + recordId.toString();
		// Retrieve the Deals's name
		leadName = record.get("Deal_Name");
	}
	else
	{
		// Handle other modules or log an error.
		leadURL = "Invalid module name provided";
	}
	affiliate_person = record.get('Affiliate_Person');
	// Prepare the data to update
	dataToUpdate = Map();
	dataToUpdate.put("Affiliate_Person",affiliate_person_id);
	if(affiliate_person == null)
	{
		// Update the record in Zoho CRM
		updateResponse = zoho.crm.updateRecord(modules_name,recordId.toString(),dataToUpdate);
	}
	// Check if the update was successful
	if(updateResponse.get("Modified_Time") != null)
	{
		info modules_name + " name: " + leadName + " and direct link " + leadURL;
	}
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="sum">Sum Up Potential Amount</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>response <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRelatedRecords</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span><span class="sh_string">"Accounts"</span><span class="sh_symbol">,</span>accountID<span class="sh_symbol">.</span><span class="sh_function">toLong</span><span class="sh_symbol">(),</span><span class="sh_number">1</span><span class="sh_symbol">);</span></li><li>total <span class="sh_symbol">=</span> <span class="sh_number">0.0</span><span class="sh_symbol">;</span></li><li>closedWonStage <span class="sh_symbol">=</span> <span class="sh_string">"closed won"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">for</span> each  record <span class="sh_keyword">in</span> response</li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;probability <span class="sh_symbol">=</span> record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Probability"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(</span>probability<span class="sh_symbol">.</span><span class="sh_function">equalsIgnoreCase</span><span class="sh_symbol">(</span><span class="sh_string">"100"</span><span class="sh_symbol">))</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total <span class="sh_symbol">=</span> total <span class="sh_symbol">+</span> <span class="sh_function">ifnull</span><span class="sh_symbol">(</span>record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Amount"</span><span class="sh_symbol">),</span><span class="sh_string">"0.0"</span><span class="sh_symbol">).</span><span class="sh_function">toDecimal</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closedWonStage <span class="sh_symbol">=</span> <span class="sh_function">ifnull</span><span class="sh_symbol">(</span>record<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Stage"</span><span class="sh_symbol">),</span><span class="sh_string">""</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li><span class="sh_symbol">}</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>total <span class="sh_symbol">==</span> <span class="sh_number">0.0</span><span class="sh_symbol">)</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"No "</span> <span class="sh_symbol">+</span> closedWonStage <span class="sh_symbol">+</span> <span class="sh_string">" potentials associated with this account"</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">}</span></li><li><span class="sh_keyword">else</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> total<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">();</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">response = zoho.crm.getRelatedRecords("Deals","Accounts",accountID.toLong(),1);
total = 0.0;
closedWonStage = "closed won";
for each  record in response
{
	probability = record.get("Probability");
	if(probability.equalsIgnoreCase("100"))
	{
		total = total + ifnull(record.get("Amount"),"0.0").toDecimal();
		closedWonStage = ifnull(record.get("Stage"),"");
	}
}
if(total == 0.0)
{
	return "No " + closedWonStage + " potentials associated with this account";
}
else
{
	return total.toString();
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="reffer">Update Referring party</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>relconts <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRelatedRecords</span><span class="sh_symbol">(</span><span class="sh_string">"Contacts"</span><span class="sh_symbol">,</span><span class="sh_string">"Accounts"</span><span class="sh_symbol">,</span>aid<span class="sh_symbol">);</span></li><li><span class="sh_keyword">for</span> each  cont <span class="sh_keyword">in</span> relconts</li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">updateRecord</span><span class="sh_symbol">(</span><span class="sh_string">"Contacts"</span><span class="sh_symbol">,</span>cont<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">),{</span><span class="sh_string">"Referring_Party"</span><span class="sh_symbol">:</span>ref<span class="sh_symbol">});</span></li><li><span class="sh_symbol">}</span></li><li>reldeals <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRelatedRecords</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span><span class="sh_string">"Accounts"</span><span class="sh_symbol">,</span>aid<span class="sh_symbol">);</span></li><li><span class="sh_keyword">for</span> each  deal <span class="sh_keyword">in</span> reldeals</li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">updateRecord</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span>deal<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">),{</span><span class="sh_string">"Refering_Party"</span><span class="sh_symbol">:</span>ref<span class="sh_symbol">});</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">relconts = zoho.crm.getRelatedRecords("Contacts","Accounts",aid);
for each  cont in relconts
{
	zoho.crm.updateRecord("Contacts",cont.get("id"),{"Referring_Party":ref});
}
reldeals = zoho.crm.getRelatedRecords("Deals","Accounts",aid);
for each  deal in reldeals
{
	zoho.crm.updateRecord("Deals",deal.get("id"),{"Refering_Party":ref});
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="assign">Assigned Team Member to Original Member</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>dealsDetails <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>dealsID<span class="sh_symbol">);</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>dealsDetails<span class="sh_symbol">))</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;track_assigned_member <span class="sh_symbol">=</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Track_Assigned_Team_Member"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>track_assigned_member<span class="sh_symbol">))</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">updateRecord</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>dealsID<span class="sh_symbol">,{</span><span class="sh_string">"Assigned_Team_Member"</span><span class="sh_symbol">:</span>track_assigned_member<span class="sh_symbol">});</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">dealsDetails = zoho.crm.getRecordById("Deals",input.dealsID);
if(!isEmpty(dealsDetails))
{
	track_assigned_member = dealsDetails.get("Track_Assigned_Team_Member");
	if(!isEmpty(track_assigned_member))
	{
		zoho.crm.updateRecord("Deals",input.dealsID,{"Assigned_Team_Member":track_assigned_member});
	}
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="state">Update State Based on Phone</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>contactsDetails <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Contacts"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>contactId<span class="sh_symbol">);</span></li><li>state_codes <span class="sh_symbol">=</span> <span class="sh_symbol">{</span><span class="sh_string">"205"</span><span class="sh_symbol">:</span><span class="sh_string">"Alabama"</span><span class="sh_symbol">,</span><span class="sh_string">"251"</span><span class="sh_symbol">:</span><span class="sh_string">"Alabama"</span><span class="sh_symbol">,</span><span class="sh_string">"256"</span><span class="sh_symbol">:</span><span class="sh_string">"Alabama"</span><span class="sh_symbol">,</span><span class="sh_string">"334"</span><span class="sh_symbol">:</span><span class="sh_string">"Alabama"</span><span class="sh_symbol">,</span><span class="sh_string">"938"</span><span class="sh_symbol">:</span><span class="sh_string">"Alabama"</span><span class="sh_symbol">,</span><span class="sh_string">"907"</span><span class="sh_symbol">:</span><span class="sh_string">"Alaska"</span><span class="sh_symbol">,</span><span class="sh_string">"480"</span><span class="sh_symbol">:</span><span class="sh_string">"Arizona"</span><span class="sh_symbol">,</span><span class="sh_string">"520"</span><span class="sh_symbol">:</span><span class="sh_string">"Arizona"</span><span class="sh_symbol">,</span><span class="sh_string">"602"</span><span class="sh_symbol">:</span><span class="sh_string">"Arizona"</span><span class="sh_symbol">,</span><span class="sh_string">"623"</span><span class="sh_symbol">:</span><span class="sh_string">"Arizona"</span><span class="sh_symbol">,</span><span class="sh_string">"928"</span><span class="sh_symbol">:</span><span class="sh_string">"Arizona"</span><span class="sh_symbol">,</span><span class="sh_string">"479"</span><span class="sh_symbol">:</span><span class="sh_string">"Arkansas"</span><span class="sh_symbol">,</span><span class="sh_string">"501"</span><span class="sh_symbol">:</span><span class="sh_string">"Arkansas"</span><span class="sh_symbol">,</span><span class="sh_string">"870"</span><span class="sh_symbol">:</span><span class="sh_string">"Arkansas"</span><span class="sh_symbol">,</span><span class="sh_string">"209"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"213"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"310"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"323"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"408"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"415"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"424"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"442"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"510"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"530"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"559"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"562"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"619"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"626"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"628"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"650"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"657"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"661"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"669"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"707"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"714"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"747"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"760"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"805"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"818"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"831"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"858"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"909"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"916"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"925"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"949"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"951"</span><span class="sh_symbol">:</span><span class="sh_string">"California"</span><span class="sh_symbol">,</span><span class="sh_string">"303"</span><span class="sh_symbol">:</span><span class="sh_string">"Colorado"</span><span class="sh_symbol">,</span><span class="sh_string">"719"</span><span class="sh_symbol">:</span><span class="sh_string">"Colorado"</span><span class="sh_symbol">,</span><span class="sh_string">"720"</span><span class="sh_symbol">:</span><span class="sh_string">"Colorado"</span><span class="sh_symbol">,</span><span class="sh_string">"970"</span><span class="sh_symbol">:</span><span class="sh_string">"Colorado"</span><span class="sh_symbol">,</span><span class="sh_string">"203"</span><span class="sh_symbol">:</span><span class="sh_string">"Connecticut"</span><span class="sh_symbol">,</span><span class="sh_string">"475"</span><span class="sh_symbol">:</span><span class="sh_string">"Connecticut"</span><span class="sh_symbol">,</span><span class="sh_string">"860"</span><span class="sh_symbol">:</span><span class="sh_string">"Connecticut"</span><span class="sh_symbol">,</span><span class="sh_string">"959"</span><span class="sh_symbol">:</span><span class="sh_string">"Connecticut"</span><span class="sh_symbol">,</span><span class="sh_string">"302"</span><span class="sh_symbol">:</span><span class="sh_string">"Delaware"</span><span class="sh_symbol">,</span><span class="sh_string">"239"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"305"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"321"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"352"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"386"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"407"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"561"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"727"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"754"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"772"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"786"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"813"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"850"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"863"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"904"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"941"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"954"</span><span class="sh_symbol">:</span><span class="sh_string">"Florida"</span><span class="sh_symbol">,</span><span class="sh_string">"229"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"404"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"470"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"478"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"678"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"706"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"762"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"770"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"912"</span><span class="sh_symbol">:</span><span class="sh_string">"Georgia"</span><span class="sh_symbol">,</span><span class="sh_string">"808"</span><span class="sh_symbol">:</span><span class="sh_string">"Hawaii"</span><span class="sh_symbol">,</span><span class="sh_string">"208"</span><span class="sh_symbol">:</span><span class="sh_string">"Idaho"</span><span class="sh_symbol">,</span><span class="sh_string">"986"</span><span class="sh_symbol">:</span><span class="sh_string">"Idaho"</span><span class="sh_symbol">,</span><span class="sh_string">"217"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"224"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"309"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"312"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"331"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"618"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"630"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"708"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"773"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"779"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"815"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"847"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"872"</span><span class="sh_symbol">:</span><span class="sh_string">"Illinois"</span><span class="sh_symbol">,</span><span class="sh_string">"219"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"260"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"317"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"463"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"574"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"765"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"812"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"930"</span><span class="sh_symbol">:</span><span class="sh_string">"Indiana"</span><span class="sh_symbol">,</span><span class="sh_string">"319"</span><span class="sh_symbol">:</span><span class="sh_string">"Iowa"</span><span class="sh_symbol">,</span><span class="sh_string">"515"</span><span class="sh_symbol">:</span><span class="sh_string">"Iowa"</span><span class="sh_symbol">,</span><span class="sh_string">"563"</span><span class="sh_symbol">:</span><span class="sh_string">"Iowa"</span><span class="sh_symbol">,</span><span class="sh_string">"641"</span><span class="sh_symbol">:</span><span class="sh_string">"Iowa"</span><span class="sh_symbol">,</span><span class="sh_string">"712"</span><span class="sh_symbol">:</span><span class="sh_string">"Iowa"</span><span class="sh_symbol">,</span><span class="sh_string">"316"</span><span class="sh_symbol">:</span><span class="sh_string">"Kansas"</span><span class="sh_symbol">,</span><span class="sh_string">"620"</span><span class="sh_symbol">:</span><span class="sh_string">"Kansas"</span><span class="sh_symbol">,</span><span class="sh_string">"785"</span><span class="sh_symbol">:</span><span class="sh_string">"Kansas"</span><span class="sh_symbol">,</span><span class="sh_string">"913"</span><span class="sh_symbol">:</span><span class="sh_string">"Kansas"</span><span class="sh_symbol">,</span><span class="sh_string">"270"</span><span class="sh_symbol">:</span><span class="sh_string">"Kentucky"</span><span class="sh_symbol">,</span><span class="sh_string">"364"</span><span class="sh_symbol">:</span><span class="sh_string">"Kentucky"</span><span class="sh_symbol">,</span><span class="sh_string">"502"</span><span class="sh_symbol">:</span><span class="sh_string">"Kentucky"</span><span class="sh_symbol">,</span><span class="sh_string">"606"</span><span class="sh_symbol">:</span><span class="sh_string">"Kentucky"</span><span class="sh_symbol">,</span><span class="sh_string">"859"</span><span class="sh_symbol">:</span><span class="sh_string">"Kentucky"</span><span class="sh_symbol">,</span><span class="sh_string">"225"</span><span class="sh_symbol">:</span><span class="sh_string">"Louisiana"</span><span class="sh_symbol">,</span><span class="sh_string">"318"</span><span class="sh_symbol">:</span><span class="sh_string">"Louisiana"</span><span class="sh_symbol">,</span><span class="sh_string">"337"</span><span class="sh_symbol">:</span><span class="sh_string">"Louisiana"</span><span class="sh_symbol">,</span><span class="sh_string">"504"</span><span class="sh_symbol">:</span><span class="sh_string">"Louisiana"</span><span class="sh_symbol">,</span><span class="sh_string">"985"</span><span class="sh_symbol">:</span><span class="sh_string">"Louisiana"</span><span class="sh_symbol">,</span><span class="sh_string">"207"</span><span class="sh_symbol">:</span><span class="sh_string">"Maine"</span><span class="sh_symbol">,</span><span class="sh_string">"240"</span><span class="sh_symbol">:</span><span class="sh_string">"Maryland"</span><span class="sh_symbol">,</span><span class="sh_string">"301"</span><span class="sh_symbol">:</span><span class="sh_string">"Maryland"</span><span class="sh_symbol">,</span><span class="sh_string">"410"</span><span class="sh_symbol">:</span><span class="sh_string">"Maryland"</span><span class="sh_symbol">,</span><span class="sh_string">"443"</span><span class="sh_symbol">:</span><span class="sh_string">"Maryland"</span><span class="sh_symbol">,</span><span class="sh_string">"667"</span><span class="sh_symbol">:</span><span class="sh_string">"Maryland"</span><span class="sh_symbol">,</span><span class="sh_string">"339"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"351"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"413"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"508"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"617"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"774"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"781"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"857"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"978"</span><span class="sh_symbol">:</span><span class="sh_string">"Massachusetts"</span><span class="sh_symbol">,</span><span class="sh_string">"231"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"248"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"269"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"313"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"517"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"586"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"616"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"734"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"810"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"906"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"947"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"989"</span><span class="sh_symbol">:</span><span class="sh_string">"Michigan"</span><span class="sh_symbol">,</span><span class="sh_string">"218"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"320"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"507"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"612"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"651"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"763"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"952"</span><span class="sh_symbol">:</span><span class="sh_string">"Minnesota"</span><span class="sh_symbol">,</span><span class="sh_string">"228"</span><span class="sh_symbol">:</span><span class="sh_string">"Mississippi"</span><span class="sh_symbol">,</span><span class="sh_string">"601"</span><span class="sh_symbol">:</span><span class="sh_string">"Mississippi"</span><span class="sh_symbol">,</span><span class="sh_string">"662"</span><span class="sh_symbol">:</span><span class="sh_string">"Mississippi"</span><span class="sh_symbol">,</span><span class="sh_string">"769"</span><span class="sh_symbol">:</span><span class="sh_string">"Mississippi"</span><span class="sh_symbol">,</span><span class="sh_string">"314"</span><span class="sh_symbol">:</span><span class="sh_string">"Missouri"</span><span class="sh_symbol">,</span><span class="sh_string">"417"</span><span class="sh_symbol">:</span><span class="sh_string">"Missouri"</span><span class="sh_symbol">,</span><span class="sh_string">"573"</span><span class="sh_symbol">:</span><span class="sh_string">"Missouri"</span><span class="sh_symbol">,</span><span class="sh_string">"636"</span><span class="sh_symbol">:</span><span class="sh_string">"Missouri"</span><span class="sh_symbol">,</span><span class="sh_string">"660"</span><span class="sh_symbol">:</span><span class="sh_string">"Missouri"</span><span class="sh_symbol">,</span><span class="sh_string">"816"</span><span class="sh_symbol">:</span><span class="sh_string">"Missouri"</span><span class="sh_symbol">,</span><span class="sh_string">"406"</span><span class="sh_symbol">:</span><span class="sh_string">"Montana"</span><span class="sh_symbol">,</span><span class="sh_string">"308"</span><span class="sh_symbol">:</span><span class="sh_string">"Nebraska"</span><span class="sh_symbol">,</span><span class="sh_string">"402"</span><span class="sh_symbol">:</span><span class="sh_string">"Nebraska"</span><span class="sh_symbol">,</span><span class="sh_string">"531"</span><span class="sh_symbol">:</span><span class="sh_string">"Nebraska"</span><span class="sh_symbol">,</span><span class="sh_string">"702"</span><span class="sh_symbol">:</span><span class="sh_string">"Nevada"</span><span class="sh_symbol">,</span><span class="sh_string">"725"</span><span class="sh_symbol">:</span><span class="sh_string">"Nevada"</span><span class="sh_symbol">,</span><span class="sh_string">"775"</span><span class="sh_symbol">:</span><span class="sh_string">"Nevada"</span><span class="sh_symbol">,</span><span class="sh_string">"603"</span><span class="sh_symbol">:</span><span class="sh_string">"New Hampshire"</span><span class="sh_symbol">,</span><span class="sh_string">"201"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"551"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"609"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"732"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"848"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"856"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"862"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"908"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"973"</span><span class="sh_symbol">:</span><span class="sh_string">"New Jersey"</span><span class="sh_symbol">,</span><span class="sh_string">"505"</span><span class="sh_symbol">:</span><span class="sh_string">"New Mexico"</span><span class="sh_symbol">,</span><span class="sh_string">"575"</span><span class="sh_symbol">:</span><span class="sh_string">"New Mexico"</span><span class="sh_symbol">,</span><span class="sh_string">"518"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"585"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"607"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"631"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"646"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"680"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"716"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"718"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"845"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"914"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"917"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"929"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"934"</span><span class="sh_symbol">:</span><span class="sh_string">"New York"</span><span class="sh_symbol">,</span><span class="sh_string">"252"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"336"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"704"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"743"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"828"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"910"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"919"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"980"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"984"</span><span class="sh_symbol">:</span><span class="sh_string">"North Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"701"</span><span class="sh_symbol">:</span><span class="sh_string">"North Dakota"</span><span class="sh_symbol">,</span><span class="sh_string">"216"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"220"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"234"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"330"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"380"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"419"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"440"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"513"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"567"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"614"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"740"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"937"</span><span class="sh_symbol">:</span><span class="sh_string">"Ohio"</span><span class="sh_symbol">,</span><span class="sh_string">"405"</span><span class="sh_symbol">:</span><span class="sh_string">"Oklahoma"</span><span class="sh_symbol">,</span><span class="sh_string">"539"</span><span class="sh_symbol">:</span><span class="sh_string">"Oklahoma"</span><span class="sh_symbol">,</span><span class="sh_string">"580"</span><span class="sh_symbol">:</span><span class="sh_string">"Oklahoma"</span><span class="sh_symbol">,</span><span class="sh_string">"918"</span><span class="sh_symbol">:</span><span class="sh_string">"Oklahoma"</span><span class="sh_symbol">,</span><span class="sh_string">"458"</span><span class="sh_symbol">:</span><span class="sh_string">"Oregon"</span><span class="sh_symbol">,</span><span class="sh_string">"503"</span><span class="sh_symbol">:</span><span class="sh_string">"Oregon"</span><span class="sh_symbol">,</span><span class="sh_string">"541"</span><span class="sh_symbol">:</span><span class="sh_string">"Oregon"</span><span class="sh_symbol">,</span><span class="sh_string">"971"</span><span class="sh_symbol">:</span><span class="sh_string">"Oregon"</span><span class="sh_symbol">,</span><span class="sh_string">"215"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"223"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"267"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"272"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"412"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"484"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"570"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"610"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"717"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"724"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"814"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"878"</span><span class="sh_symbol">:</span><span class="sh_string">"Pennsylvania"</span><span class="sh_symbol">,</span><span class="sh_string">"401"</span><span class="sh_symbol">:</span><span class="sh_string">"Rhode Island"</span><span class="sh_symbol">,</span><span class="sh_string">"803"</span><span class="sh_symbol">:</span><span class="sh_string">"South Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"843"</span><span class="sh_symbol">:</span><span class="sh_string">"South Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"854"</span><span class="sh_symbol">:</span><span class="sh_string">"South Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"864"</span><span class="sh_symbol">:</span><span class="sh_string">"South Carolina"</span><span class="sh_symbol">,</span><span class="sh_string">"605"</span><span class="sh_symbol">:</span><span class="sh_string">"South Dakota"</span><span class="sh_symbol">,</span><span class="sh_string">"423"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"615"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"629"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"731"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"865"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"901"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"931"</span><span class="sh_symbol">:</span><span class="sh_string">"Tennessee"</span><span class="sh_symbol">,</span><span class="sh_string">"210"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"214"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"254"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"281"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"325"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"346"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"361"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"409"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"430"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"432"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"469"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"512"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"682"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"713"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"726"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"737"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"806"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"817"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"830"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"832"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"903"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"915"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"936"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"940"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"956"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"972"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"979"</span><span class="sh_symbol">:</span><span class="sh_string">"Texas"</span><span class="sh_symbol">,</span><span class="sh_string">"385"</span><span class="sh_symbol">:</span><span class="sh_string">"Utah"</span><span class="sh_symbol">,</span><span class="sh_string">"435"</span><span class="sh_symbol">:</span><span class="sh_string">"Utah"</span><span class="sh_symbol">,</span><span class="sh_string">"801"</span><span class="sh_symbol">:</span><span class="sh_string">"Utah"</span><span class="sh_symbol">,</span><span class="sh_string">"802"</span><span class="sh_symbol">:</span><span class="sh_string">"Vermont"</span><span class="sh_symbol">,</span><span class="sh_string">"276"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"434"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"540"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"571"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"703"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"757"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"804"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"826"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"840"</span><span class="sh_symbol">:</span><span class="sh_string">"Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"206"</span><span class="sh_symbol">:</span><span class="sh_string">"Washington"</span><span class="sh_symbol">,</span><span class="sh_string">"253"</span><span class="sh_symbol">:</span><span class="sh_string">"Washington"</span><span class="sh_symbol">,</span><span class="sh_string">"360"</span><span class="sh_symbol">:</span><span class="sh_string">"Washington"</span><span class="sh_symbol">,</span><span class="sh_string">"425"</span><span class="sh_symbol">:</span><span class="sh_string">"Washington"</span><span class="sh_symbol">,</span><span class="sh_string">"509"</span><span class="sh_symbol">:</span><span class="sh_string">"Washington"</span><span class="sh_symbol">,</span><span class="sh_string">"564"</span><span class="sh_symbol">:</span><span class="sh_string">"Washington"</span><span class="sh_symbol">,</span><span class="sh_string">"304"</span><span class="sh_symbol">:</span><span class="sh_string">"West Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"681"</span><span class="sh_symbol">:</span><span class="sh_string">"West Virginia"</span><span class="sh_symbol">,</span><span class="sh_string">"262"</span><span class="sh_symbol">:</span><span class="sh_string">"Wisconsin"</span><span class="sh_symbol">,</span><span class="sh_string">"414"</span><span class="sh_symbol">:</span><span class="sh_string">"Wisconsin"</span><span class="sh_symbol">,</span><span class="sh_string">"534"</span><span class="sh_symbol">:</span><span class="sh_string">"Wisconsin"</span><span class="sh_symbol">,</span><span class="sh_string">"608"</span><span class="sh_symbol">:</span><span class="sh_string">"Wisconsin"</span><span class="sh_symbol">,</span><span class="sh_string">"715"</span><span class="sh_symbol">:</span><span class="sh_string">"Wisconsin"</span><span class="sh_symbol">,</span><span class="sh_string">"920"</span><span class="sh_symbol">:</span><span class="sh_string">"Wisconsin"</span><span class="sh_symbol">,</span><span class="sh_string">"307"</span><span class="sh_symbol">:</span><span class="sh_string">"Wyoming"</span><span class="sh_symbol">};</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>contactsDetails<span class="sh_symbol">))</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;phone_number <span class="sh_symbol">=</span> contactsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Phone"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;area_code <span class="sh_symbol">=</span> phone_number<span class="sh_symbol">.</span><span class="sh_function">subString</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">,</span><span class="sh_number">3</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>area_code<span class="sh_symbol">))</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(</span>state_codes<span class="sh_symbol">.</span><span class="sh_function">containsKey</span><span class="sh_symbol">(</span>area_code<span class="sh_symbol">))</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state_name <span class="sh_symbol">=</span> state_codes<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span>area_code<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>state_name<span class="sh_symbol">))</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mailing_state <span class="sh_symbol">=</span> contactsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Mailing_State"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(</span>mailing_state<span class="sh_symbol">.</span><span class="sh_function">isNull</span><span class="sh_symbol">())</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">updateRecord</span><span class="sh_symbol">(</span><span class="sh_string">"Contacts"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>contactId<span class="sh_symbol">,{</span><span class="sh_string">"Mailing_State"</span><span class="sh_symbol">:</span>state_name<span class="sh_symbol">});</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">contactsDetails = zoho.crm.getRecordById("Contacts",input.contactId);
state_codes = {"205":"Alabama","251":"Alabama","256":"Alabama","334":"Alabama","938":"Alabama","907":"Alaska","480":"Arizona","520":"Arizona","602":"Arizona","623":"Arizona","928":"Arizona","479":"Arkansas","501":"Arkansas","870":"Arkansas","209":"California","213":"California","310":"California","323":"California","408":"California","415":"California","424":"California","442":"California","510":"California","530":"California","559":"California","562":"California","619":"California","626":"California","628":"California","650":"California","657":"California","661":"California","669":"California","707":"California","714":"California","747":"California","760":"California","805":"California","818":"California","831":"California","858":"California","909":"California","916":"California","925":"California","949":"California","951":"California","303":"Colorado","719":"Colorado","720":"Colorado","970":"Colorado","203":"Connecticut","475":"Connecticut","860":"Connecticut","959":"Connecticut","302":"Delaware","239":"Florida","305":"Florida","321":"Florida","352":"Florida","386":"Florida","407":"Florida","561":"Florida","727":"Florida","754":"Florida","772":"Florida","786":"Florida","813":"Florida","850":"Florida","863":"Florida","904":"Florida","941":"Florida","954":"Florida","229":"Georgia","404":"Georgia","470":"Georgia","478":"Georgia","678":"Georgia","706":"Georgia","762":"Georgia","770":"Georgia","912":"Georgia","808":"Hawaii","208":"Idaho","986":"Idaho","217":"Illinois","224":"Illinois","309":"Illinois","312":"Illinois","331":"Illinois","618":"Illinois","630":"Illinois","708":"Illinois","773":"Illinois","779":"Illinois","815":"Illinois","847":"Illinois","872":"Illinois","219":"Indiana","260":"Indiana","317":"Indiana","463":"Indiana","574":"Indiana","765":"Indiana","812":"Indiana","930":"Indiana","319":"Iowa","515":"Iowa","563":"Iowa","641":"Iowa","712":"Iowa","316":"Kansas","620":"Kansas","785":"Kansas","913":"Kansas","270":"Kentucky","364":"Kentucky","502":"Kentucky","606":"Kentucky","859":"Kentucky","225":"Louisiana","318":"Louisiana","337":"Louisiana","504":"Louisiana","985":"Louisiana","207":"Maine","240":"Maryland","301":"Maryland","410":"Maryland","443":"Maryland","667":"Maryland","339":"Massachusetts","351":"Massachusetts","413":"Massachusetts","508":"Massachusetts","617":"Massachusetts","774":"Massachusetts","781":"Massachusetts","857":"Massachusetts","978":"Massachusetts","231":"Michigan","248":"Michigan","269":"Michigan","313":"Michigan","517":"Michigan","586":"Michigan","616":"Michigan","734":"Michigan","810":"Michigan","906":"Michigan","947":"Michigan","989":"Michigan","218":"Minnesota","320":"Minnesota","507":"Minnesota","612":"Minnesota","651":"Minnesota","763":"Minnesota","952":"Minnesota","228":"Mississippi","601":"Mississippi","662":"Mississippi","769":"Mississippi","314":"Missouri","417":"Missouri","573":"Missouri","636":"Missouri","660":"Missouri","816":"Missouri","406":"Montana","308":"Nebraska","402":"Nebraska","531":"Nebraska","702":"Nevada","725":"Nevada","775":"Nevada","603":"New Hampshire","201":"New Jersey","551":"New Jersey","609":"New Jersey","732":"New Jersey","848":"New Jersey","856":"New Jersey","862":"New Jersey","908":"New Jersey","973":"New Jersey","505":"New Mexico","575":"New Mexico","518":"New York","585":"New York","607":"New York","631":"New York","646":"New York","680":"New York","716":"New York","718":"New York","845":"New York","914":"New York","917":"New York","929":"New York","934":"New York","252":"North Carolina","336":"North Carolina","704":"North Carolina","743":"North Carolina","828":"North Carolina","910":"North Carolina","919":"North Carolina","980":"North Carolina","984":"North Carolina","701":"North Dakota","216":"Ohio","220":"Ohio","234":"Ohio","330":"Ohio","380":"Ohio","419":"Ohio","440":"Ohio","513":"Ohio","567":"Ohio","614":"Ohio","740":"Ohio","937":"Ohio","405":"Oklahoma","539":"Oklahoma","580":"Oklahoma","918":"Oklahoma","458":"Oregon","503":"Oregon","541":"Oregon","971":"Oregon","215":"Pennsylvania","223":"Pennsylvania","267":"Pennsylvania","272":"Pennsylvania","412":"Pennsylvania","484":"Pennsylvania","570":"Pennsylvania","610":"Pennsylvania","717":"Pennsylvania","724":"Pennsylvania","814":"Pennsylvania","878":"Pennsylvania","401":"Rhode Island","803":"South Carolina","843":"South Carolina","854":"South Carolina","864":"South Carolina","605":"South Dakota","423":"Tennessee","615":"Tennessee","629":"Tennessee","731":"Tennessee","865":"Tennessee","901":"Tennessee","931":"Tennessee","210":"Texas","214":"Texas","254":"Texas","281":"Texas","325":"Texas","346":"Texas","361":"Texas","409":"Texas","430":"Texas","432":"Texas","469":"Texas","512":"Texas","682":"Texas","713":"Texas","726":"Texas","737":"Texas","806":"Texas","817":"Texas","830":"Texas","832":"Texas","903":"Texas","915":"Texas","936":"Texas","940":"Texas","956":"Texas","972":"Texas","979":"Texas","385":"Utah","435":"Utah","801":"Utah","802":"Vermont","276":"Virginia","434":"Virginia","540":"Virginia","571":"Virginia","703":"Virginia","757":"Virginia","804":"Virginia","826":"Virginia","840":"Virginia","206":"Washington","253":"Washington","360":"Washington","425":"Washington","509":"Washington","564":"Washington","304":"West Virginia","681":"West Virginia","262":"Wisconsin","414":"Wisconsin","534":"Wisconsin","608":"Wisconsin","715":"Wisconsin","920":"Wisconsin","307":"Wyoming"};
if(!isEmpty(contactsDetails))
{
	phone_number = contactsDetails.get("Phone");
	area_code = phone_number.subString(0,3);
	if(!isEmpty(area_code))
	{
		if(state_codes.containsKey(area_code))
		{
			state_name = state_codes.get(area_code);
			if(!isEmpty(state_name))
			{
				mailing_state = contactsDetails.get("Mailing_State");
				if(mailing_state.isNull())
				{
					zoho.crm.updateRecord("Contacts",input.contactId,{"Mailing_State":state_name});
				}
			}
		}
	}
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="affiliate">Update Leads Affiliates Person</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>leadDetails <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Leads"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>lead_id<span class="sh_symbol">);</span></li><li>affiliateId <span class="sh_symbol">=</span> leadDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Affiliates_Id"</span><span class="sh_symbol">);</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>affiliateId <span class="sh_symbol">!=</span> null<span class="sh_symbol">)</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Prepare the data to update</li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataToUpdate <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataToUpdate<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Affiliate_Person"</span><span class="sh_symbol">,</span>affiliateId<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span> Update the record <span class="sh_keyword">in</span> Zoho CRM</li><li>&nbsp;&nbsp;&nbsp;&nbsp;zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">updateRecord</span><span class="sh_symbol">(</span><span class="sh_string">"Leads"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>lead_id<span class="sh_symbol">,</span>dataToUpdate<span class="sh_symbol">);</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">leadDetails = zoho.crm.getRecordById("Leads",input.lead_id);
affiliateId = leadDetails.get("Affiliates_Id");
if(affiliateId != null)
{
	// Prepare the data to update
	dataToUpdate = Map();
	dataToUpdate.put("Affiliate_Person",affiliateId);
	// Update the record in Zoho CRM
	zoho.crm.updateRecord("Leads",input.lead_id,dataToUpdate);
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="notes">Add Notes on Modules</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>a <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Calls"</span><span class="sh_symbol">,</span>id<span class="sh_symbol">);</span></li><li><span class="sh_symbol">//</span> info a <span class="sh_symbol">;</span></li><li>desc <span class="sh_symbol">=</span> a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Description"</span><span class="sh_symbol">);</span></li><li>name <span class="sh_symbol">=</span> a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Subject"</span><span class="sh_symbol">);</span></li><li>who_id <span class="sh_symbol">=</span> <span class="sh_function">ifnull</span><span class="sh_symbol">(</span>a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Who_Id"</span><span class="sh_symbol">),</span><span class="sh_string">""</span><span class="sh_symbol">);</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>who_id<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">).</span><span class="sh_function">size</span><span class="sh_symbol">()</span> <span class="sh_symbol">&gt;</span> <span class="sh_number">0</span><span class="sh_symbol">)</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;c_id <span class="sh_symbol">=</span> who_id<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1 <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Note_Title"</span><span class="sh_symbol">,</span>name<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Note_Content"</span><span class="sh_symbol">,</span>desc<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Parent_Id"</span><span class="sh_symbol">,</span>c_id<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"se_module"</span><span class="sh_symbol">,</span><span class="sh_string">"Contacts"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataList <span class="sh_symbol">=</span> <span class="sh_function">List</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>note1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;params <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;params<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"data"</span><span class="sh_symbol">,</span>dataList<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;response <span class="sh_symbol">=</span> invokeurl</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">[</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url <span class="sh_symbol">:</span><span class="sh_string">"https://www.zohoapis.in/crm/v2/Notes"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type <span class="sh_symbol">:</span>POST</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters<span class="sh_symbol">:</span>params<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">()</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection<span class="sh_symbol">:</span><span class="sh_string">"crm_oauth_connection"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">];</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span>info response<span class="sh_symbol">;</span></li><li><span class="sh_symbol">}</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"$se_module"</span><span class="sh_symbol">)</span> <span class="sh_symbol">==</span> <span class="sh_string">"Accounts"</span><span class="sh_symbol">)</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;acc_id <span class="sh_symbol">=</span> <span class="sh_function">ifnull</span><span class="sh_symbol">(</span>a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"What_Id"</span><span class="sh_symbol">),</span><span class="sh_function">Map</span><span class="sh_symbol">()).</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span>info acc_id <span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1 <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Note_Title"</span><span class="sh_symbol">,</span>name<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Note_Content"</span><span class="sh_symbol">,</span>desc<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Parent_Id"</span><span class="sh_symbol">,</span>acc_id<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"se_module"</span><span class="sh_symbol">,</span><span class="sh_string">"Accounts"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataList <span class="sh_symbol">=</span> <span class="sh_function">List</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>note1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;params <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;params<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"data"</span><span class="sh_symbol">,</span>dataList<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;response <span class="sh_symbol">=</span> invokeurl</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">[</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url <span class="sh_symbol">:</span><span class="sh_string">"https://www.zohoapis.in/crm/v2/Notes"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type <span class="sh_symbol">:</span>POST</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters<span class="sh_symbol">:</span>params<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">()</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection<span class="sh_symbol">:</span><span class="sh_string">"crm_oauth_connection"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">];</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span>info response<span class="sh_symbol">;</span></li><li><span class="sh_symbol">}</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"$se_module"</span><span class="sh_symbol">)</span> <span class="sh_symbol">==</span> <span class="sh_string">"Leads"</span><span class="sh_symbol">)</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;l_id <span class="sh_symbol">=</span> <span class="sh_function">ifnull</span><span class="sh_symbol">(</span>a<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"What_Id"</span><span class="sh_symbol">),</span><span class="sh_function">Map</span><span class="sh_symbol">()).</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1 <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Note_Title"</span><span class="sh_symbol">,</span>name<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Note_Content"</span><span class="sh_symbol">,</span>desc<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"Parent_Id"</span><span class="sh_symbol">,</span>l_id<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;note1<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"se_module"</span><span class="sh_symbol">,</span><span class="sh_string">"Leads"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataList <span class="sh_symbol">=</span> <span class="sh_function">List</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;dataList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>note1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;params <span class="sh_symbol">=</span> <span class="sh_function">Map</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;params<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"data"</span><span class="sh_symbol">,</span>dataList<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;response <span class="sh_symbol">=</span> invokeurl</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">[</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url <span class="sh_symbol">:</span><span class="sh_string">"https://www.zohoapis.in/crm/v2/Notes"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type <span class="sh_symbol">:</span>POST</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters<span class="sh_symbol">:</span>params<span class="sh_symbol">.</span><span class="sh_function">toString</span><span class="sh_symbol">()</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection<span class="sh_symbol">:</span><span class="sh_string">"crm_oauth_connection"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">];</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">//</span>info response<span class="sh_symbol">;</span>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">a = zoho.crm.getRecordById("Calls",id);
// info a ;
desc = a.get("Description");
name = a.get("Subject");
who_id = ifnull(a.get("Who_Id"),"");
if(who_id.get("id").size() &gt; 0)
{
	c_id = who_id.get("id");
	note1 = Map();
	note1.put("Note_Title",name);
	note1.put("Note_Content",desc);
	note1.put("Parent_Id",c_id);
	note1.put("se_module","Contacts");
	dataList = List();
	dataList.add(note1);
	params = Map();
	params.put("data",dataList);
	response = invokeurl
	[
		url :"https://www.zohoapis.in/crm/v2/Notes"
		type :POST
		parameters:params.toString()
		connection:"crm_oauth_connection"
	];
	//info response;
}
if(a.get("$se_module") == "Accounts")
{
	acc_id = ifnull(a.get("What_Id"),Map()).get("id");
	//info acc_id ;
	note1 = Map();
	note1.put("Note_Title",name);
	note1.put("Note_Content",desc);
	note1.put("Parent_Id",acc_id);
	note1.put("se_module","Accounts");
	dataList = List();
	dataList.add(note1);
	params = Map();
	params.put("data",dataList);
	response = invokeurl
	[
		url :"https://www.zohoapis.in/crm/v2/Notes"
		type :POST
		parameters:params.toString()
		connection:"crm_oauth_connection"
	];
	//info response;
}
if(a.get("$se_module") == "Leads")
{
	l_id = ifnull(a.get("What_Id"),Map()).get("id");
	note1 = Map();
	note1.put("Note_Title",name);
	note1.put("Note_Content",desc);
	note1.put("Parent_Id",l_id);
	note1.put("se_module","Leads");
	dataList = List();
	dataList.add(note1);
	params = Map();
	params.put("data",dataList);
	response = invokeurl
	[
		url :"https://www.zohoapis.in/crm/v2/Notes"
		type :POST
		parameters:params.toString()
		connection:"crm_oauth_connection"
	];
	//info response;	
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="email">Send Email To Affiliate</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>dealsDetails <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>dealsID<span class="sh_symbol">);</span></li><li>affiliatePerson <span class="sh_symbol">=</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Affiliate_Person2"</span><span class="sh_symbol">);</span></li><li>affiliateId <span class="sh_symbol">=</span> affiliatePerson<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"id"</span><span class="sh_symbol">);</span></li><li>affiliateDetails <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Affiliate_DB"</span><span class="sh_symbol">,</span>affiliateId<span class="sh_symbol">);</span></li><li><span class="sh_symbol">//</span> Define the email details</li><li>fromEmail <span class="sh_symbol">=</span> <span class="sh_string">"The Refund Consultants &lt;ops@therefundconsultants.com&gt;"</span><span class="sh_symbol">;</span></li><li>subject <span class="sh_symbol">=</span> <span class="sh_string">"Deal Assignment Notification"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>dealsDetails<span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_symbol">!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>affiliateDetails<span class="sh_symbol">))</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;affiliateEmail <span class="sh_symbol">=</span> affiliateDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Email"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>affiliateEmail<span class="sh_symbol">))</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendmail</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">[</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_preproc">from</span> <span class="sh_symbol">:</span>fromEmail</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to <span class="sh_symbol">:</span>affiliateEmail</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subject <span class="sh_symbol">:</span>subject</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message <span class="sh_symbol">:</span><span class="sh_string">"Hi "</span> <span class="sh_symbol">+</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Assigned_Team_Member'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">",&lt;br&gt;&lt;br&gt;You have been assigned a client to work on.&lt;br&gt;&lt;br&gt;Deal Name: &lt;b&gt;"</span> <span class="sh_symbol">+</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Deal_Name'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">"&lt;/b&gt;&lt;br&gt;Deal Stage: &lt;b&gt;"</span> <span class="sh_symbol">+</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Stage'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">"&lt;/b&gt;&lt;br&gt;&lt;br&gt;To visit this Deal: &lt;a href='https://crm.zoho.com/crm/org781691523/tab/Potentials/"</span> <span class="sh_symbol">+</span> input<span class="sh_symbol">.</span>dealsID <span class="sh_symbol">+</span> <span class="sh_string">"'&gt;Click Here&lt;/a&gt;"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">]</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">dealsDetails = zoho.crm.getRecordById("Deals",input.dealsID);
affiliatePerson = dealsDetails.get("Affiliate_Person2");
affiliateId = affiliatePerson.get("id");
affiliateDetails = zoho.crm.getRecordById("Affiliate_DB",affiliateId);
// Define the email details
fromEmail = "The Refund Consultants &lt;ops@therefundconsultants.com&gt;";
subject = "Deal Assignment Notification";
if(!isEmpty(dealsDetails) &amp;&amp; !isEmpty(affiliateDetails))
{
	affiliateEmail = affiliateDetails.get("Email");
	if(!isEmpty(affiliateEmail))
	{
		sendmail
		[
			from :fromEmail
			to :affiliateEmail
			subject :subject
			message :"Hi " + dealsDetails.get('Assigned_Team_Member') + ",&lt;br&gt;&lt;br&gt;You have been assigned a client to work on.&lt;br&gt;&lt;br&gt;Deal Name: &lt;b&gt;" + dealsDetails.get('Deal_Name') + "&lt;/b&gt;&lt;br&gt;Deal Stage: &lt;b&gt;" + dealsDetails.get('Stage') + "&lt;/b&gt;&lt;br&gt;&lt;br&gt;To visit this Deal: &lt;a href='https://crm.zoho.com/crm/org781691523/tab/Potentials/" + input.dealsID + "'&gt;Click Here&lt;/a&gt;"
		]
	}
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name="email2">Send Email to Assigned Team Member</a></h2>
				<div class="snippet-container"><div class="sh_default snippet-wrap"><div class="snippet-menu sh_sourceCode"><a class="snippet-window sh_url" href="#">pop-up</a><a class="snippet-text sh_url" href="#">text</a></div><pre class="shi_pre sh_python snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>dealsDetails <span class="sh_symbol">=</span> zoho<span class="sh_symbol">.</span>crm<span class="sh_symbol">.</span><span class="sh_function">getRecordById</span><span class="sh_symbol">(</span><span class="sh_string">"Deals"</span><span class="sh_symbol">,</span>input<span class="sh_symbol">.</span>dealsID<span class="sh_symbol">);</span></li><li><span class="sh_symbol">//</span> Define the email details</li><li>fromEmail <span class="sh_symbol">=</span> <span class="sh_string">"The Refund Consultants &lt;ops@therefundconsultants.com&gt;"</span><span class="sh_symbol">;</span></li><li>toEmail <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span></li><li>subject <span class="sh_symbol">=</span> <span class="sh_string">"Deal Assignment Notification"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>dealsDetails<span class="sh_symbol">))</span></li><li><span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;assigned_member <span class="sh_symbol">=</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">"Assigned_Team_Member"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>assigned_member<span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> assigned_member <span class="sh_symbol">==</span> <span class="sh_string">'Ataullah'</span><span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toEmail <span class="sh_symbol">=</span> <span class="sh_string">"ataullah@therefundconsultants.com"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>assigned_member<span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> assigned_member <span class="sh_symbol">==</span> <span class="sh_string">'Mashruh'</span><span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toEmail <span class="sh_symbol">=</span> <span class="sh_string">"mashruh@telecrestusa.com"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>assigned_member<span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> assigned_member <span class="sh_symbol">==</span> <span class="sh_string">'Shafi'</span><span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toEmail <span class="sh_symbol">=</span> <span class="sh_string">"shafi@therefundconsultants.com"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(!</span><span class="sh_function">isEmpty</span><span class="sh_symbol">(</span>assigned_member<span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> assigned_member <span class="sh_symbol">==</span> <span class="sh_string">'Yunus'</span><span class="sh_symbol">)</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toEmail <span class="sh_symbol">=</span> <span class="sh_string">"yunus@therefundconsultants.com"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;sendmail</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">[</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_preproc">from</span> <span class="sh_symbol">:</span>fromEmail</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to <span class="sh_symbol">:</span>toEmail</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subject <span class="sh_symbol">:</span>subject</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message <span class="sh_symbol">:</span><span class="sh_string">"Hi "</span> <span class="sh_symbol">+</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Assigned_Team_Member'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">",&lt;br&gt;&lt;br&gt;You have been assigned a client to work on.&lt;br&gt;&lt;br&gt;Deal Name: &lt;b&gt;"</span> <span class="sh_symbol">+</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Deal_Name'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">"&lt;/b&gt;&lt;br&gt;Deal Stage: &lt;b&gt;"</span> <span class="sh_symbol">+</span> dealsDetails<span class="sh_symbol">.</span><span class="sh_function">get</span><span class="sh_symbol">(</span><span class="sh_string">'Stage'</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">"&lt;/b&gt;&lt;br&gt;&lt;br&gt;To visit this Deal: &lt;a href='https://crm.zoho.com/crm/org781691523/tab/Potentials/"</span> <span class="sh_symbol">+</span> input<span class="sh_symbol">.</span>dealsID <span class="sh_symbol">+</span> <span class="sh_string">"'&gt;Click Here&lt;/a&gt;"</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">]</span></li><li><span class="sh_symbol">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;" tabindex="0" contenteditable="">dealsDetails = zoho.crm.getRecordById("Deals",input.dealsID);
// Define the email details
fromEmail = "The Refund Consultants &lt;ops@therefundconsultants.com&gt;";
toEmail = "";
subject = "Deal Assignment Notification";
if(!isEmpty(dealsDetails))
{
	assigned_member = dealsDetails.get("Assigned_Team_Member");
	if(!isEmpty(assigned_member) &amp;&amp; assigned_member == 'Ataullah')
	{
		toEmail = "ataullah@therefundconsultants.com";
	}
	else if(!isEmpty(assigned_member) &amp;&amp; assigned_member == 'Mashruh')
	{
		toEmail = "mashruh@telecrestusa.com";
	}
	else if(!isEmpty(assigned_member) &amp;&amp; assigned_member == 'Shafi')
	{
		toEmail = "shafi@therefundconsultants.com";
	}
	else if(!isEmpty(assigned_member) &amp;&amp; assigned_member == 'Yunus')
	{
		toEmail = "yunus@therefundconsultants.com";
	}
	sendmail
	[
		from :fromEmail
		to :toEmail
		subject :subject
		message :"Hi " + dealsDetails.get('Assigned_Team_Member') + ",&lt;br&gt;&lt;br&gt;You have been assigned a client to work on.&lt;br&gt;&lt;br&gt;Deal Name: &lt;b&gt;" + dealsDetails.get('Deal_Name') + "&lt;/b&gt;&lt;br&gt;Deal Stage: &lt;b&gt;" + dealsDetails.get('Stage') + "&lt;/b&gt;&lt;br&gt;&lt;br&gt;To visit this Deal: &lt;a href='https://crm.zoho.com/crm/org781691523/tab/Potentials/" + input.dealsID + "'&gt;Click Here&lt;/a&gt;"
	]
}</pre></div></div>
			</div>

			<div class="post">
				<h2><a name=""></a></h2>

			</div>

			<div class="post">
				<h2><a name=""></a></h2>

			</div>

			<div class="post">
				<h2><a name=""></a></h2>

			</div>
		</div> <!-- End: Content -->
	</div> <!-- End: Wrap -->
	<a href="#" class="scrollup left" style="display: block;">Scroll</a>
	<a href="#" class="scrollup right" style="display: block;">Scroll</a>
	<script src="js/jquery.min.js"></script>
	<script src="js/shi_jquery.min.js"></script>
	<script src="js/scroll.js"></script>
</body>
</html>
